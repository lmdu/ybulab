{% set mainmenu="sample" %}
{% extends "base.html" %}
{% block title %}样本信息{% endblock %}
{% block main %}
<div class="card">
	<div class="card-header">
		<h2 class="card-title"><strong>样本信息</strong></h2>
	</div>
	<div class="card-body">
		<h3>基本信息</h3>
		<div class="datagrid">
			<div class="datagrid-item">
				<div class="datagrid-title fs-4"><strong>样本编号</strong></div>
				<div class="datagrid-content">{{ sample.sample_code }}</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4"><strong>样本名称</strong></div>
				<div class="datagrid-content">{{ sample.sample_name }}</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4"><strong>样本类型</strong></div>
				<div class="datagrid-content">{{ sample.sample_type or "无" }}</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4"><strong>来源组织</strong></div>
				<div class="datagrid-content">{{ sample.sample_tissue or "无" }}</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4"><strong>采集地点</strong></div>
				<div class="datagrid-content">{{ sample.collect_location or "无" }}</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4"><strong>经度</strong></div>
				<div class="datagrid-content">{{ sample.collect_longitude or "无" }}</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4"><strong>纬度</strong></div>
				<div class="datagrid-content">{{ sample.collect_latitude or "无" }}</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4"><strong>海拔(米)</strong></div>
				<div class="datagrid-content">{{ sample.collect_altitude or "无" }}</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4"><strong>采样人员</strong></div>
				<div class="datagrid-content">{{ sample.collect_people or "无" }}</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4"><strong>采样时间</strong></div>
				<div class="datagrid-content">{{ sample.collect_date or "无" }}</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4"><strong>存放地点</strong></div>
				<div class="datagrid-content">{{ sample.store_place or "无" }}</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4"><strong>保持方法</strong></div>
				<div class="datagrid-content">{{ sample.store_method or "无" }}</div>
			</div>
		</div>
		<h3 class="mt-5">物种信息</h3>
		<div class="datagrid">
			<div class="datagrid-item">
				<div class="datagrid-title fs-4">
					<span class="badge bg-blue text-white">界</span>
					<span class="ms-2">Kingdom</span>
				</div>
				<div class="datagrid-content">
					{{ sample.species.kingdom_cn }} / {{ sample.species.kingdom_en }}
				</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4">
					<span class="badge bg-purple text-white">门</span>
					<span class="ms-2">Phylum</span>
				</div>
				<div class="datagrid-content">
					{{ sample.species.phylum_cn }} / {{ sample.species.phylum_en }}
				</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4">
					<span class="badge bg-orange text-white">纲</span>
					<span class="ms-2">Class</span>
				</div>
				<div class="datagrid-content">
					{{ sample.species.class_cn }} / {{ sample.species.class_en }}
				</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4">
					<span class="badge bg-teal text-white">目</span>
					<span class="ms-2">Order</span>
				</div>
				<div class="datagrid-content">
					{{ sample.species.oder_cn }} / {{ sample.species.oder_en }}
				</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4">
					<span class="badge bg-yellow text-white">科</span>
					<span class="ms-2">Family</span>
				</div>
				<div class="datagrid-content">
					{{ sample.species.family_cn }} / {{ sample.species.family_en }}
				</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4">
					<span class="badge bg-cyan text-white">属</span>
					<span class="ms-2">Genus</span>
				</div>
				<div class="datagrid-content">
					{{ sample.species.genus_cn }} / {{ sample.species.genus_en }}
				</div>
			</div>
			<div class="datagrid-item">
				<div class="datagrid-title fs-4">
					<span class="badge bg-red text-white">种</span>
					<span class="ms-2">Species</span>
				</div>
				<div class="datagrid-content">
					{{ sample.species.species_cn }} / <em>{{ sample.species.species_en }}</em>
				</div>
			</div>
		</div>

		{% if photos %}
		<h3 class="mt-5">图片信息</h3>
		<div class="row row-cols-3 row-cols-md-4 row-cols-lg-6 g-5">
			{% for photo in photos %}
			<div class="col">
				<a data-fslightbox="gallery" href="{{ photo.upfile.url }}">
					<div class="img-responsive img-responsive-1x1 rounded" style="background-image: url({{ photo.upfile.url }});"></div>
				</a>
			</div>
			{% endfor %}
		</div>
		{% endif %}

		{% if attachments %}
		<h3 class="mt-5">附件材料</h3>
		<div class="card">
			<div class="table-responsive">
				<table class="table table-vcenter card-table">
					<thead>
						<tr>
							<th class="fs-4">No.</th>
							<th class="fs-4">文件名</th>
							<th class="fs-4">文件大小</th>
							<th class="fs-4">上传时间</th>
							<th class="fs-4">下载</th>
						</tr>
					</thead>
					<tbody>
						{% for a in attachments %}
						<tr>
							<td>{{ loop.index }}</td>
							<td>{{ a.upfile.name | basename }}</td>
							<td>{{ a.upfile.size | intcomma }}</td>
							<td>{{ a.uptime | date("Y-m-d") }} {{ a.uptime | time("H:i") }}</td>
							<td>
								<div class="btn-list flex-nowrap">
									<a href="{{ a.upfile.url }}" class="btn btn-sm">下载</a>
								</div>
							</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
		{% endif %}

		{% if sample.comment %}
		<h3 class="mt-5">备注信息</h3>
		<div>{{ sample.comment | safe }}</div>
		{% endif %}
	</div>
</div>
{% endblock %}
{% block script %}
<script src="{{ static('js/fslightbox.js') }}"></script>
{% endblock %}
